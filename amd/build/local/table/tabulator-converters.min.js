define ("local_cltools/local/table/tabulator-converters",["exports","local_cltools/local/moment-lazy"],function(a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.formatterFilterTransform=void 0;b=function(a){return a&&a.__esModule?a:{default:a}}(b);var c=function(a,c,d){var f=document.createElement("input");f.setAttribute("type","date");f.style.padding="3px";f.style.width="100%";f.style.boxSizing="border-box";f.value=(0,b.default)(a.getValue(),"DD/MM/YYYY").format("YYYY-MM-DD");c(function(){f.focus();f.style.css="100%"});function e(){d((0,b.default)(f.value,"YYYY-MM-DD").format("DD/MM/YYYY"))}f.addEventListener("change",e);f.addEventListener("blur",e);return f},d={text:{to:"input"},select_choice:{to:"select",transformer:function transformer(a){return{values:a.choices}},headerFilterFunc:"="},entity_selector:{to:"select",transformer:function transformer(a){return{values:a.choices}},headerFilterFunc:"="},datetime:{to:"datetime",transformer:function transformer(a){return{outputFormat:a.inputformat,inputFormat:a.inputformat,timezone:a.timezone}},editor:c}},e={select_choice:{to:"lookup",transformer:function transformer(a){return a.choices}},entity_selector:{to:"lookup",transformer:function transformer(a){return a.choices}},datetime:{to:"datetime",transformer:function transformer(a){return{outputFormat:a.inputformat,inputFormat:a.inputformat,timezone:a.timezone}}}};a.formatterFilterTransform=function formatterFilterTransform(a){return a.map(function(a){var b="formatterparams"in a?JSON.parse(a.formatterparams):null,c="filterparams"in a?JSON.parse(a.filterparams):null;if(!b){delete a.formatterparams}if(!c){delete a.filterparams}if("formatter"in a&&a.formatter in e){var f=e[a.formatter];if(b){a.formatterParams=f.transformer(b)}a.formatter=f.to}if("filter"in a&&a.filter in d){var g=d[a.filter];if(c){a.headerFilterParams=g.transformer(c)}a.headerFilter=g.to;if("editor"in g){a.editor=g.editor}if("headerFilterFunc"in g){a.headerFilterFunc=g.headerFilterFunc}}return a})}});
//# sourceMappingURL=tabulator-converters.min.js.map
