define ("local_cltools/local/table/moodle-filter-converters",["exports"],function(a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.convertFiltersToMoodle=a.convertInitialFilter=a.JOINTYPE_ALL=a.JOINTYPE_ANY=void 0;var b=function(a){return JSON.stringify({direction:"=",value:a})},c={like:{to:"string_filter",transformer:function transformer(a){return{value:a}}},"=":{to:"numeric_comparison_filter",transformer:function transformer(a){if(Array.isArray(a)){return a.map(b)}else if("boolean"==typeof a){return[b(a?1:0)]}else{return[b(a)]}}}};a.JOINTYPE_ANY=1;a.JOINTYPE_ALL=2;a.convertInitialFilter=function convertInitialFilter(a,b){var c=a?a.jointype:2;if(a){Array.prototype.push.apply(b,Object.values(a.filters))}return[c,b]};a.convertFiltersToMoodle=function convertFiltersToMoodle(a){return"undefined"==typeof a?[]:a.map(function(a){var b={name:a.field,type:a.type,jointype:2,values:a.value};if(a.type in c){var d=c[a.type];b.type=d.to;if("undefined"!=typeof d.transformer){b.values=d.transformer(a.value)}}return b})}});
//# sourceMappingURL=moodle-filter-converters.min.js.map
