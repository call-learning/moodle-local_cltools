define("local_cltools/local/table/tabulator-entity-lookup",["exports","core/ajax","core/notification"],(function(_exports,_ajax,_notification){var obj;
/**
   * AMD module to store the entity lookup values
   *
   * @module   local_cltools/table/tabulator-entity-lookup.js
   * @copyright 2021 - CALL Learning - Laurent David <laurent@call-learning.fr>
   * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */function entityLookup(entityclass,displayfield){return entityLookup.LOOKUP_CACHE[entityclass]||(entityLookup.LOOKUP_CACHE[entityclass]=[]),entityLookup.LOOKUP_CACHE[entityclass]&&entityLookup.LOOKUP_CACHE[entityclass][displayfield]?entityLookup.LOOKUP_CACHE[entityclass][displayfield]:Promise.race((0,_ajax.call)([{methodname:"cltools_entity_lookup",args:{entityclass:entityclass,displayfield:displayfield}}])).catch(_notification.default.exception).then((function(result){return result.warnings&&0!==result.warnings.length?(_notification.default.addNotification({message:result.warnings.reduce((function(a,w){return a+" "+w.message}),"")}),[]):(entityLookup.LOOKUP_CACHE[entityclass][displayfield]=JSON.parse(result.values),entityLookup.LOOKUP_CACHE[entityclass][displayfield])}))}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.entityLookup=entityLookup,_notification=(obj=_notification)&&obj.__esModule?obj:{default:obj},entityLookup.LOOKUP_CACHE=[]}));

//# sourceMappingURL=tabulator-entity-lookup.min.js.map