define ("local_cltools/local/table/dynamic",["exports","local_cltools/local/table/tabulator-lazy","jquery","core/ajax"],function(a,b,c,d){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=e(b);c=e(c);function e(a){return a&&a.__esModule?a:{default:a}}var f=function(a){var e=(0,c.default)("#"+a),f=function(a,b,c){var f={handler:e.data("tableHandler"),uniqueid:e.data("tableUniqueid"),sortdata:"undefined"==typeof c.sorters?[]:c.sorters.map(function(a){return{sortby:a.name,sortorder:"ASC"}}),filters:"undefined"==typeof c.filters?[]:c.filters.map(function(a){return{name:a.name,jointype:1,values:a.values}}),jointype:1,pagenumber:c.page,pagesize:this.table.getPageSize(),hiddencolumns:[],resetpreferences:!1,firstinitial:"A",lastinitial:"Z"},g=(0,d.call)([{methodname:"cltools_dynamic_table_get_rows",args:f}]);return g[0]},g=function(a,b,c){c.data=c.data.map(function(a){return JSON.parse(a)});return c},h=(0,d.call)([{methodname:"cltools_dynamic_table_get_columns",args:{handler:e.data("tableHandler"),uniqueid:e.data("tableUniqueid")}}]);h[0].then(function(c){new b.default("#"+a,{ajaxRequestFunc:f,ajaxURL:!0,pagination:"remote",paginationSize:e.data("table-pagesize"),ajaxFiltering:!0,ajaxSorting:!0,paginationDataReceived:{last_page:"pagescount"},ajaxResponse:g,columns:c})}).fail(Notification.exception)};a.init=f});
//# sourceMappingURL=dynamic.min.js.map
